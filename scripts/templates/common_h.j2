{# templates/common_h.j2 #}

#ifndef COMMON_TRANSLATION_H
#define COMMON_TRANSLATION_H

//
//
// This file is auto-generated by 'create_translations_yaml_jinja2.py' script.
//
//

{%- for section in text_arrays %}

//      "pragma_label": {{ section.pragma_label }},
//      "array_label": {{ section.array_label }},
//      "indexes_count": {{ section.indexes_count }}
{%- set ns          = namespace() %}
{%- set ns.section_text_len = 0 %}
{% for label in section.contents %}
#define {{ label.prefix }}_{{ label.name.ljust(40) }}         (char *)({{ section.array_label }}_PL + {{ ns.section_text_len }})
{%- set ns.section_text_len = ns.section_text_len + label.raw_text_len + 1 %}
{%- endfor %}
{%- endfor %}

//      "pragma_label": {{ pragma_label }}
//      "array_label": {{ array_label }}

{% for entry in text_variables -%}
//      common: '{{ entry.text }}'
static const char {{ entry.prefix }}_{{ entry.label }}[] = {{ '{' + entry.bytearray + ', 0x00};' }}
{% endfor %}

enum TXT_CACHE_INDEXES {
{%- for section in index_arrays %}
    {{ section.array_label }}_CACHE_INDEX{{ "," if not loop.last }}
{%- endfor %}
};

#endif

